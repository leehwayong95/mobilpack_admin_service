<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mobilpack.manager.Dao.Dao">
    <select id='LoginQuery' resultType='com.mobilpack.manager.Model.AdminModel'>
    	SELECT *
    	FROM admin
    	WHERE admin_id = '${id}' AND password = '${pw}'
    </select>
    <select id='editInfo'>
    	UPDATE admin
    	SET name = '${name}', phone='${phone}', email='${email}'
    	WHERE admin_id = '${id}'
    </select>
    
   <!-- 관리자 리스트 현재페이지에 필요한 항목수+정보 가져오기 -->
    <select id="getadminlist" resultType='com.mobilpack.manager.Model.AdminModel'>
        select *
    	from admin
    	LIMIT ${Currentpage},${Number}
    </select>
    
    <!-- 전체 관리자 리스트 수 구하기  --> 
    <select id="getadminlistcount" resultType="int">
         select count(*) 
         from admin
    </select>
    
    	<!-- 관리자 등록  -->
    <insert id="joinadmin" parameterType="String">
		insert into admin(admin_id,name,phone,email)
		values('${id}','${name}','${phone}','${email}');
	</insert>
    
      <!-- 관리자id 증복체크  -->    
    <select id="idcheck" parameterType="String" resultType="String">
        select admin_id
        from admin
        where admin_id='${id}'
   </select> 
    
     <!-- 관리자 검색 설정한것에 대한 리스트 가져오기 --> 
     <select id="searchadminlist" parameterType="String" resultType='com.mobilpack.manager.Model.AdminModel'>
        select *
    	from admin
    	where admin_id='${id}' and name='${name}'and createat between '${createat}' and '${updateat}'
    	ORDER BY admin.createat DESC 
    	limit ${Currentpage},${Number}
    </select>
    
	<!-- 클릭한 관리자 정보 상세조회 -->
	<select id="admininformation" parameterType="String" resultType='com.mobilpack.manager.Model.AdminModel'>
	    select admin_id,name,email,phone,createat,updateat
        from admin
        where admin_id = '${id}'
	</select>
	
    <!-- 관리자 삭제 -->
      <delete id="deleteboardtext" parameterType="String">
    	DELETE FROM admin
    	WHERE admin_id='${id}'
    </delete>
    
      <!-- 관리자 비밀번호 초기화 -->
    <update id="updateboardtext" parameterType="String">
    UPDATE admin
    SET password='admin1234!!' 
    WHERE admin.id='${id}'
    </update>
</mapper>
